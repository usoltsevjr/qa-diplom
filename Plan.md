# План автоматизации тестирования сервиса покупки туров 

## 1. Перечень автоматизируемых сценариев

#### Покупка тура через кнопку "Купить" с главной страницы сервиса.

![image](https://raw.githubusercontent.com/netology-code/qa-diploma/master/pic/service.png)

Cценарий 1: Оплата с помощью валидной карты, на которой достаточно денежных средств. Операция должна быть одобрена.


Шаги воспроизведения:
1. На главной странице сервиса нажимаем на кнопку "Купить";
2. Заполняем форму заявки полностью валидными данными карты: "Номер" = "4444 4444 4444 4441", "Месяц" = "10", 
"Год" = "22", "Владелец" = "Antonov Anton", "CVV" = "101";
3. Нажимаем на кнопку "Продолжить";
4. Ожидаем результат после отправки запроса.

*Ожидаемый результат:* появляется сообщение вида "Успешно. Операция одобрена Банком".

Cценарий 2: Оплата с валидной карты, на которой недостаточно денежных средств. Отказ в проведении операции.

Шаги по воспроизведению:
1. На главной странице сервиса нажимаем на кнопку "Купить";
2. Заполняем форму заявки полностью валидными данными карты, на которой недостаточно ДС: "Номер" = "4444 4444 4444 4442", "Месяц" = "10", 
"Год" = "22", "Владелец" = "Antonov Anton", "CVV" = "101";
3. Нажимаем на кнопку "Продолжить";
4. Ожидаем результат после отправки запроса в банк.

*Ожидаемый результат:* появляется сообщение об ошибке вида: "Ошибка! Банк отказал в проведении операции".

####  Покупка тура через кнопку "Купить в кредит" с главной страницы сервиса.

![image](https://raw.githubusercontent.com/netology-code/qa-diploma/master/pic/service.png)

Cценарий 1: Оплата в кредит с помощью валидной карты, с достаточным кредитным лимитом. Операция должна быть одобрена.


Шаги воспроизведения:
1. На главной странице сервиса нажимаем на кнопку "Купить";
2. Заполняем форму заявки полностью валидными данными карты, на которой не исчерпан кредитный лимит: "Номер" = "4444 4444 4444 4441", "Месяц" = "10", 
"Год" = "22", "Владелец" = "Antonov Anton", "CVV" = "101";
3. Нажимаем на кнопку "Продолжить";
4. Ожидаем результат после отправки запроса.

*Ожидаемый результат:* появляется сообщение вида "Успешно. Операция одобрена Банком".

Cценарий 2: Оплата в кредит с помощью валидной карты, с недостаточным кредитным лимитом. Отказ в проведении операции.

Шаги по воспроизведению:
1. На главной странице сервиса нажимаем на кнопку "Купить";
2. Заполняем форму заявки валидными данными карты, на которой исчерпан кредитный лимит: "Номер" = "4444 4444 4444 4442", "Месяц" = "10", 
"Год" = "22", "Владелец" = "Antonov Anton", "CVV" = "101";
3. Нажимаем на кнопку "Продолжить";
4. Ожидаем результат после отправки запроса.

*Ожидаемый результат:* появляется сообщение об ошибке вида "Ошибка! Банк отказал в проведении операции".



### Тестирование полей ввода данных

**Поле "Номер карты"**

Предусловия для покупки не в кредит:

1. На главной странице сервиса нажимаем на кнопку "Купить";
2. Заполняем поля следующими валидными данными: "Месяц" = "10", "Год" = "22", "Владелец" = "Antonov Anton", "CVV" = "101".

Предусловия для покупки в кредит

1. На главной странице сервиса нажимаем на кнопку "Купить в кредит";
2. Заполняем поля следующими валидными данными: "Месяц" = "10", "Год" = "22", "Владелец" = "Antonov Anton", "CVV" = "101".


При вводе некорректных данных под полем ввода "Номер карты" должно появляться сообщение об ошибке ("Поле обязательно для заполнения" или "Неверный формат").

1. Заявка не должна отправляться, если поле "Номер карты" пустое;
2. Заявка не должна отправляться, если поле "Номер карты" содержит 15 цифр (например, "4444 4444 4444 444");
3. Заявка не должна отправляться, если поле "Номер карты" содержит номер карты другого банка, которого нет в БД банка.

**Поле "Месяц"**

Предусловия для покупки не в кредит:
 
 1. На главной странице сервиса нажимаем на кнопку "Купить";
 2. Заполняем поля следующими валидными данными: "Месяц" = "10", "Год" = "22", "Владелец" = "Antonov Anton", "CVV" = "101".
 
 Предусловия для покупки в кредит
 
 1. На главной странице сервиса нажимаем на кнопку "Купить в кредит";
 2. Заполняем поля следующими валидными данными: "Месяц" = "10", "Год" = "22", "Владелец" = "Antonov Anton", "CVV" = "101".


При вводе некорректных данных под полем ввода "Месяц" должно появляться сообщение об ошибке ("Поле обязательно для заполнения", "Неверно указан срок действия карты" или "Неверный формат").

1. Заявка не должна отправляться, если поле "Месяц" пустое;
2. Заявка не должна отправляться, если поле "Месяц" содержит нулевое значение;
3. Заявка не должна отправляться, если поле "Месяц" содержит одну цифру.
4. Заявка не должна отправляться, если поле "Месяц" содержит число, которое больше 12;


**Поле "Год"**

Предусловия для покупки не в кредит:
 
 1. На главной странице сервиса нажимаем на кнопку "Купить";
 2. Заполняем поля следующими валидными данными: "Месяц" = "10", "Год" = "22", "Владелец" = "Antonov Anton", "CVV" = "101".
 
 Предусловия для покупки в кредит
 
 1. На главной странице сервиса нажимаем на кнопку "Купить в кредит";
 2. Заполняем поля следующими валидными данными: "Месяц" = "10", "Год" = "22", "Владелец" = "Antonov Anton", "CVV" = "101".

При вводе некорректных данных под полем ввода "Год" должно появляться сообщение об ошибке ("Поле обязательно для заполнения", "Неверно указан срок действия карты" или "Истёк срок действия карты").

1. Заявка не должна отправляться, если поле "Год" пустое;
2. Заявка не должна отправляться, если поле "Год" содержит цифры ранее текущего года (например, "19");
3. Заявка не должна отправляться, если поле "Год" содержит цифры намного позже текущего года (например, "50").

**Поле "Владелец"**

Предусловия для покупки не в кредит:
 
 1. На главной странице сервиса нажимаем на кнопку "Купить";
 2. Заполняем поля следующими валидными данными: "Месяц" = "10", "Год" = "22", "Владелец" = "Antonov Anton", "CVV" = "101".
 
 Предусловия для покупки в кредит
 
 1. На главной странице сервиса нажимаем на кнопку "Купить в кредит";
 2. Заполняем поля следующими валидными данными: "Месяц" = "10", "Год" = "22", "Владелец" = "Antonov Anton", "CVV" = "101".

При вводе некорректных данных под полем ввода "Владелец" должно появляться сообщение об ошибке ("Поле обязательно для заполнения" или "Неверный формат").

1. Заявка не должна отправляться, если поле "Владелец" пустое;
2. Заявка не должна отправляться, если поле "Владелец" содержит одно слово (например, "Antonov");
3. Заявка не должна отправляться, если поле "Владелец" содержит ФИО полностью (например, "Antonov Anton Anton");
4. Заявка не должна отправляться, если поле "Владелец" содержит фамилию и имя в нижнем регистре (например, "antonov anton);
5. Заявка не должна отправляться, если поле "Владелец" содержит фамилию и имя в верхнем регистре (например, "ANTONOV ANTON");
6. Заявка не должна отправляться, если поле "Владелец" содержит фамилию и имя на русском языке (например, "Антонов Антон");
7. Заявка не должна отправляться, если поле "Владелец" содержит цифры (например, "124543");
8. Заявка не должна отправляться, если поле "Владелец" содержит символы (например, "~!@$%№").

**Поле "CVV"**

Предусловия для покупки не в кредит:
 
 1. На главной странице сервиса нажимаем на кнопку "Купить";
 2. Заполняем поля следующими валидными данными: "Месяц" = "10", "Год" = "22", "Владелец" = "Antonov Anton", "CVV" = "101".
 
 Предусловия для покупки в кредит
 
 1. На главной странице сервиса нажимаем на кнопку "Купить в кредит";
 2. Заполняем поля следующими валидными данными: "Месяц" = "10", "Год" = "22", "Владелец" = "Antonov Anton", "CVV" = "101".

При вводе некорректных данных под полем ввода "CVV" должно появляться сообщение об ошибке ("Поле обязательно для заполнения" или "Неверный формат").

1. Заявка не должна отправляться, если поле "CVV" пустое;
2. Заявка не должна отправляться, если поле "CVV" содержит одну цифру (например, "1");
3. Заявка не должна отправляться, если поле "CVV" содержит две цифры (например, "11").

**Тестирование API**

Необходимо проверить банковские карты и их статусы в базе данных через API


## 2. Перечень используемых инструментов

**IntelliJ IDEA**

Среда разработки от компании JetBrains. Удобный интерфейс, наличие плагинов необходимых для работы.

**Java 11**

Язык программирования на котором будет написан проект.

**Git Github**

Система контроля версий на базе GitHub, необходимо для хранения исходного кода, документации, а так же обладающая возможностью изменять/ дополнять проект по мере необходимости.

**JUnit 5**

Тестовый фреймворк хорошо подходящий для автотестов.

**Selenide**

Фреймворк для тестирования веб-приложений на основе Selenium WebDriver. 

**Lombok**

Lombok — это полезный плагин, аннотации которого позволят сократить время написания и количество строк кода за 
счет автоматически генерируемых конструкторов.

**Docker**

Необходим для запуска БД и "эмулятора банковского сервиса".

**Allure**

В данном проекте будем использовать отчет с расширенными возможностями.


## 3. Перечень и описание возможных рисков при автоматизации

- Возможен рассинхрон работы БД и SUT, не будет успевать "подниматься"

- Ошибки в тестах, связанные с некорректно сгенерированными данными плагином "Faker".


## 4. Интервальная оценка с учётом рисков (в часах)

- Подготовка к проведению тестирования — 2 часа;
- Написание кода  — 48 часов;
- Подготовка отчета по итогам тестирования — 8 часов;
- Подготовка отчета по итогам автоматизации  — 8 часов.

## 5. План сдачи работ

- Написание и сдача авто-тестов — в течение 4 рабочих дней после согласования плана;
- Подготовка отчетов по итогам тестирования (прогона) —  сразу после прогона тестов;
- Подготовка отчета по итогам автоматизации — через 2 рабочих днях после завершения тестирования.